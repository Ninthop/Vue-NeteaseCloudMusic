(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-187daae5"],{"0b73":function(t,e,s){"use strict";var i=s("3db3"),a=s.n(i);a.a},"0c56":function(t,e,s){"use strict";var i=s("f192"),a=s.n(i);a.a},"26f9":function(t,e,s){},"3db3":function(t,e,s){},"4c86":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[s("list-header",{attrs:{playList:t.playList}}),s("song-content",{attrs:{playList:t.playList},on:{playAll:t.playAll}})],1)},a=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-header"},[i("div",{staticClass:"bgimg-fa"},[i("div",{staticClass:"bgimg",style:{background:"linear-gradient(rgba(0, 0, 0, .3), rgba(0, 0, 0, .3)), url('"+t.playList.coverImgUrl+"') no-repeat center center",filter:"blur(1.8rem)"}})]),i("div",{staticClass:"header-fixed",style:t.bg},[i("img",{staticClass:"login-back",attrs:{src:s("ed13"),alt:"返回图标"},on:{click:t.routerBack}}),i("div",{staticClass:"fixed-text"},[t._v(t._s(t.playList.name))])]),i("div",{staticClass:"fixed"},[i("div",{staticClass:"header-pic"},[i("img",{staticClass:"pic",attrs:{src:t.playList.coverImgUrl,alt:""}}),t.playList.creator?i("div",{staticClass:"info"},[i("img",{staticClass:"user-avatar",attrs:{src:t.playList.creator.avatarUrl,alt:"用户头像"}}),i("div",{staticClass:"info-nickname"},[t._v("\n\t\t\t\t\t\t"+t._s(t.playList.creator.nickname)+"\n\t\t\t\t\t")])]):t._e()])])])},r=[],o={name:"DetailHeader",data:function(){return{bg:{backgroundColor:"rgba(255, 71, 87, 0)",color:"white"}}},props:{playList:Object},methods:{routerBack:function(){this.$router.go(-1)},handleScroll:function(){var t=this.$parent.$el.scrollTop;if(t<=0)this.bg={backgroundColor:"rgba(255, 71, 87, 0)"};else if(t>0&&t<180){var e=t/180;this.bg={backgroundColor:"rgba(255, 71, 87, ".concat(e,")")}}else this.bg={backgroundColor:"rgba(255, 71, 87, 1)"}}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!0)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},l=o,c=(s("0c56"),s("2877")),d=Object(c["a"])(l,n,r,!1,null,"272a4778",null),h=d.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"song-content"},[s("div",{staticClass:"content-head"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-yinzhi"}})]),s("div",{staticClass:"play-all",on:{click:function(e){return t.playAllSong(t.playList.tracks)}}},[t._v("\n\t\t\t播放全部\n\t\t\t"),s("span",{staticClass:"song-num"},[t._v("(共"+t._s(t.playList.trackCount)+"首)")])])]),s("virtual-list",{staticClass:"songWrapper",attrs:{size:40,remain:20}},[t._l(t.playList.tracks,function(t,e){return s("div",{key:e,staticClass:"song"},[s("song",{attrs:{songDetial:t,songRtUrl:t.rtUrls,index:e,artists:t.ar,album:t.al}})],1)}),s("div",{style:{width:"100%",height:"5vh"}})],2)],1)},u=[],p=s("d213"),v=s("89c1"),g=s.n(v),m={name:"SongContent",props:{playList:Object},components:{Song:p["a"],virtualList:g.a},methods:{playAllSong:function(t){this.$emit("playAll",t)}}},b=m,y=(s("b7d8"),Object(c["a"])(b,f,u,!1,null,"0a1c741b",null)),C=y.exports,L=s("91ff"),S={name:"List",data:function(){return{playList:{}}},components:{ListHeader:h,SongContent:C},methods:{playAll:function(t){this.$store.dispatch("playAllMusic",t)}},beforeDestroy:function(){this.$store.commit("toggleLoad",1)},created:function(){var t=this;this.$store.commit("toggleLoad",0),Object(L["a"])({id:this.$route.params.id}).then(function(e){t.playList=e.playlist})}},k=S,_=(s("c307"),Object(c["a"])(k,i,a,!1,null,"11e7d826",null));e["default"]=_.exports},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"89c1":function(t,e,s){(function(t){var i,a,n;function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}(function(o,l){var c="VirtualList";"object"===r(e)&&"object"===r(t)?t.exports=l(c,s("2b0e")):(a=[s("2b0e")],i=l.bind(o,c),n="function"===typeof i?i.apply(e,a):i,void 0===n||(t.exports=n))})(this,function(t,e){"object"===r(e)&&"function"===typeof e["default"]&&(e=e["default"]);var s=function(t,e,s){var i;return function(){var a=this,n=arguments,r=function(){i=null,s||t.apply(a,n)},o=s&&!i;clearTimeout(i),i=setTimeout(r,e),o&&t.apply(a,n)}};return e.component(t,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},pagemode:{type:Boolean,default:!1},scrollelement:{type:"undefined"===typeof window?Object:HTMLElement,default:null},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},debounce:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},watch:{size:function(){this.changeProp="size"},remain:function(){this.changeProp="remain"},bench:function(){this.changeProp="bench",this.itemModeForceRender()},start:function(){this.changeProp="start",this.itemModeForceRender()},offset:function(){this.changeProp="offset",this.itemModeForceRender()},itemcount:function(){this.changeProp="itemcount",this.itemModeForceRender()},scrollelement:function(t,e){this.pagemode||(e&&this.removeScrollListener(e),t&&this.addScrollListener(t))}},created:function(){var t=this.start>=this.remain?this.start:0,e=this.remain+(this.bench||this.remain),s=Object.create(null);s.direction="",s.scrollTop=0,s.start=t,s.end=t+e-1,s.keeps=e,s.total=0,s.offsetAll=0,s.paddingTop=0,s.paddingBottom=0,s.varCache={},s.varAverSize=0,s.varLastCalcIndex=0,this.delta=s},mounted:function(){if(this.pagemode?this.addScrollListener(window):this.scrollelement&&this.addScrollListener(this.scrollelement),this.start){var t=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(t):t*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeDestroy:function(){this.pagemode?this.removeScrollListener(window):this.scrollelement&&this.removeScrollListener(this.scrollelement)},beforeUpdate:function(){var t=this.delta;t.keeps=this.remain+(this.bench||this.remain);var e="start"===this.changeProp?this.start:t.start,s=this.getZone(e);if(this.changeProp&&["start","size","offset"].includes(this.changeProp)){var i="offset"===this.changeProp?this.offset:this.variable?this.getVarOffset(s.isLast?t.total:s.start):s.isLast&&t.total-e<=this.remain?t.total*this.size:e*this.size;this.$nextTick(this.setScrollTop.bind(this,i))}(this.changeProp||t.end!==s.end||e!==s.start)&&(this.changeProp="",t.end=s.end,t.start=s.start,this.forceRender())},methods:{addScrollListener:function(t){this.scrollHandler=this.debounce?s(this.onScroll.bind(this),this.debounce):this.onScroll,t.addEventListener("scroll",this.scrollHandler,!1)},removeScrollListener:function(t){t.removeEventListener("scroll",this.scrollHandler,!1)},onScroll:function(t){var e,s=this.delta,i=this.$refs.vsl;if(this.pagemode){var a=this.$el.getBoundingClientRect();e=-a.top}else if(this.scrollelement){var n=this.scrollelement.getBoundingClientRect(),r=this.$el.getBoundingClientRect();e=n.top-r.top}else e=(i.$el||i).scrollTop||0;s.direction=e>s.scrollTop?"D":"U",s.scrollTop=e,s.total>s.keeps?this.updateZone(e):s.end=s.total-1;var o=s.offsetAll;if(this.onscroll){var l=Object.create(null);l.offset=e,l.offsetAll=o,l.start=s.start,l.end=s.end,this.onscroll(t,l)}!e&&s.total&&this.fireEvent("totop"),e>=o&&this.fireEvent("tobottom")},updateZone:function(t){var e=this.delta,s=this.variable?this.getVarOvers(t):Math.floor(t/this.size);"U"===e.direction&&(s=s-this.remain+1);var i=this.getZone(s),a=this.bench||this.remain,n=1===Math.abs(s-e.start-a);!n&&s-e.start<=a&&!i.isLast&&s>e.start||(n||i.start!==e.start||i.end!==e.end)&&(e.end=i.end,e.start=i.start,this.forceRender())},getZone:function(t){var e,s=this.delta;t=parseInt(t,10),t=Math.max(0,t);var i=s.total-s.keeps,a=t<=s.total&&t>=i||t>s.total;return e=a?Math.max(0,i):t,{end:e+s.keeps-1,start:e,isLast:a}},forceRender:function(){var t=this;window.requestAnimationFrame(function(){t.$forceUpdate()})},itemModeForceRender:function(){this.item&&this.forceRender()},getVarOvers:function(t){var e=0,s=0,i=0,a=this.delta,n=a.total;while(e<=n){if(s=e+Math.floor((n-e)/2),i=this.getVarOffset(s),a.varAverSize||(a.varAverSize=Math.floor(i/s)),i===t)return s;i<t?e=s+1:i>t&&(n=s-1)}return e>0?--e:0},getVarOffset:function(t,e){var s=this.delta,i=s.varCache[t];if(!e&&i)return i.offset;for(var a=0,n=0;n<t;n++){var r=this.getVarSize(n,e);s.varCache[n]={size:r,offset:a},a+=r}return s.varLastCalcIndex=Math.max(s.varLastCalcIndex,t-1),s.varLastCalcIndex=Math.min(s.varLastCalcIndex,s.total-1),a},getVarSize:function(t,e){var s=this.delta.varCache[t];if(!e&&s)return s.size;if("function"===typeof this.variable)return this.variable(t)||0;var i=this.item?this.$children[t]?this.$children[t].$vnode:null:this.$slots["default"][t],a=i&&i.data&&i.data.style;if(a&&a.height){var n=a.height.match(/^(.*)px$/);return n&&+n[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var t=this.delta,e=t.total-1;return t.total-t.end<=t.keeps||t.varLastCalcIndex===e?this.getVarOffset(e)-this.getVarOffset(t.end):(t.total-t.end)*(t.varAverSize||this.size)},getVarAllHeight:function(){var t=this.delta;return t.total-t.end<=t.keeps||t.varLastCalcIndex===t.total-1?this.getVarOffset(t.total):this.getVarOffset(t.start)+(t.total-t.end)*(t.varAverSize||this.size)},updateVariable:function(t){this.getVarOffset(t,!0)},fireEvent:function(t){this[t]&&this[t]()},setScrollTop:function(t){if(this.pagemode)window.scrollTo(0,t);else if(this.scrollelement)this.scrollelement.scrollTo(0,t);else{var e=this.$refs.vsl;e&&((e.$el||e).scrollTop=t)}},filter:function(t){var e,s,i,a=this.delta,n=this.$slots["default"]||[];this.item||this.$scopedSlots.item?(a.total=this.itemcount,a.keeps>a.total&&(a.end=a.total-1)):(n.length||(a.start=0),a.total=n.length);var r=a.total>a.keeps;this.variable?(i=this.getVarAllHeight(),e=r?this.getVarPaddingTop():0,s=r?this.getVarPaddingBottom():0):(i=this.size*a.total,e=this.size*(r?a.start:0),s=this.size*(r?a.total-a.keeps:0)-e),s<this.size&&(s=0),a.paddingTop=e,a.paddingBottom=s,a.offsetAll=i-this.size*this.remain;for(var o=[],l=a.start;l<a.total&&l<=Math.ceil(a.end);l++){var c=null;c=this.$scopedSlots.item?this.$scopedSlots.item(l):this.item?t(this.item,this.itemprops(l)):n[l],o.push(c)}return o}},render:function(t){var e=this.debounce,i=this.filter(t),a=this.delta,n=a.paddingTop,r=a.paddingBottom,o=this.istable,l=o?"div":this.wtag,c=o?"div":this.rtag;o&&(i=[t("table",[t("tbody",i)])]);var d=t(l,{style:{display:"block","padding-top":n+"px","padding-bottom":r+"px"},class:this.wclass,attrs:{role:"group"}},i);return this.pagemode||this.scrollelement?d:t(c,{ref:"vsl",style:{display:"block","overflow-y":this.size>=this.remain?"auto":"inital",height:this.size*this.remain+"px"},on:{"&scroll":e?s(this.onScroll.bind(this),e):this.onScroll}},[d])}})})}).call(this,s("62e4")(t))},b7d8:function(t,e,s){"use strict";var i=s("26f9"),a=s.n(i);a.a},c307:function(t,e,s){"use strict";var i=s("fe05"),a=s.n(i);a.a},d213:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"singleSong",on:{click:function(e){return t.listenMusic(t.songDetial,t.songDetial.id)}}},[s("div",{staticClass:"index"},[t._v(t._s(t.index+1))]),s("div",{staticClass:"song-body"},[s("span",{staticClass:"song-title"},[t._v("\n\t\t\t"+t._s(t.songDetial.name)+"\n\t\t\t"),t.songRtUrl&&0!=t.songRtUrl.length?s("span",{staticClass:"rtUrl"},[t._v(t._s(t.songRtUrl))]):t._e()]),s("span",{staticClass:"author-and-cover"},[t._l(t.artists,function(e,i){return s("span",{key:i,staticClass:"ar"},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])}),s("span",{staticClass:"separator"},[t._v("-")]),s("span",{staticClass:"cover"},[t._v(t._s(t.album.name))]),1==t.songDetial.fee||16==t.songDetial.fee?s("span",{staticClass:"vip"},[t._v("Vip")]):t._e(),4==t.songDetial.fee?s("span",{staticClass:"vip"},[t._v("需购专辑")]):t._e()],2)])])},a=[],n=(s("c5f6"),s("a723")),r={name:"SongList",props:{index:{type:Number},songDetial:{type:Object},songRtUrl:{type:Array},artists:{type:Array,default:[]},album:{type:Object,default:{}}},methods:{listenMusic:function(t,e){var s=this;Object(n["d"])({ids:e}).then(function(e){0==e.privileges[0].st&&1!=e.privileges[0].fee&&4!=e.privileges[0].fee&&16!=e.privileges[0].fee?s.$store.dispatch("playSingleMusic",t):0!=e.privileges[0].st||1!=e.privileges[0].fee&&16!=e.privileges[0].fee||1!=e.privileges[0].payed?0!=e.privileges[0].st||1!=e.privileges[0].fee&&16!=e.privileges[0].fee||0!=e.privileges[0].payed?4==e.privileges[0].fee?alert("需要购买专辑"):alert("没有版权"):alert("需要Vip"):s.$store.dispatch("playSingleMusic",t)})}}},o=r,l=(s("0b73"),s("2877")),c=Object(l["a"])(o,i,a,!1,null,"56807c3e",null);e["a"]=c.exports},f192:function(t,e,s){},fe05:function(t,e,s){}}]);