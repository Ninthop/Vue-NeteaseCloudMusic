(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15806c72"],{"0a27":function(t,e,s){},"0cfd":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"pane"},[t._t("default")],2)},n=[],i={name:"pane",data:function(){return{show:!0}},props:{name:{type:String},label:{type:String,default:"默认标签名"}}},r=i,c=(s("9d98"),s("2877")),o=Object(c["a"])(r,a,n,!1,null,"67a2357f",null),l=o.exports,u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"tab",staticClass:"wrap"},[t._l(t.tabs,function(e){return s("span",{key:e.name,ref:"allTab",refInFor:!0,staticClass:"tab",class:{current:t.typeId==e.name},style:{width:t.tabWidth+"%"},on:{click:function(s){var a=arguments.length,n=Array(a);while(a--)n[a]=arguments[a];return t.set.apply(void 0,n.concat([e.name]))}}},[s("span",{staticClass:"tab-text"},[t._v(t._s(e.label))])])}),s("div",{ref:"line",staticClass:"line",style:{width:t.length+"px"}})],2),s("div",{staticClass:"tab-content"},[t._t("default")],2)])},d=[],p=(s("ac6a"),s("7f7f"),s("c5f6"),{name:"tabs",props:{typeId:[String,Number]},data:function(){return{length:0,tabWidth:0,tabs:[],currentId:this.typeId,marginLeft:0}},methods:{set:function(t,e){this.$emit("set",e);var s="tab-text"==t.target._prevClass?t.target.offsetLeft:t.target.children[0].offsetLeft;this.$refs.line.style.left="".concat(s,"px")},getTabs:function(){return this.$children.filter(function(t){return"pane"==t.$options.name})},setTabs:function(){var t=this;this.getTabs().forEach(function(e,s){t.tabs.push({label:e.label,name:e.name||s})}),this.setStatus()},setStatus:function(){var t=this.getTabs(),e=this;t.forEach(function(t){var s=t.name==e.currentId;t.show=s})},okkkk:function(){console.log("okkk")}},mounted:function(){var t=this;this.setTabs();var e=this.$refs.tab.offsetWidth/this.tabs.length;this.length=e/2;var s=this.tabs.length;this.tabWidth=100/s,this.$nextTick(function(){var e=document.getElementsByClassName("current")[0].children[0].offsetLeft;t.$refs.line.style.left="".concat(e,"px")})},watch:{typeId:function(t){this.currentId=t},currentId:function(){this.setStatus()}}}),f=p,h=(s("c1e0"),Object(c["a"])(f,u,d,!1,null,"df616608",null)),v=h.exports;e["a"]={TabPane:l,TabS:v}},"2d3b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("div",{staticClass:"search-head"},[a("span",{staticClass:"back"},[a("img",{staticClass:"search-back",attrs:{src:s("ed13"),alt:"返回图标"},on:{click:t.routerBack}})]),a("span",{staticClass:"search-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWords,expression:"keyWords"}],attrs:{type:"text",placeholder:"请输入关键词..."},domProps:{value:t.keyWords},on:{focus:t.adviceAppear,blur:t.adviceDisappear,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.postKeywords(e)},input:function(e){e.target.composing||(t.keyWords=e.target.value)}}}),a("fade",[a("div",{directives:[{name:"show",rawName:"v-show",value:this.keyWords&&t.show,expression:"this.keyWords && show"}],staticClass:"search-advice"},[this.searchAdvice.keyword?a("span",{staticClass:"default-search none"},[t._v(t._s(this.searchAdvice.keyword))]):a("span",{staticClass:"default-search",on:{click:function(e){return t.adviceClick(t.keyWords)}}},[t._v("搜索“"+t._s(t.keyWords)+"”")]),t._l(this.searchAdvice,function(e,s){return a("span",{key:s,on:{click:function(s){return t.adviceClick(e.keyword)}}},[t._v(t._s(e.keyword))])})],2)])],1),a("span",{staticClass:"post-keyword"},[a("button",{on:{click:t.postKeywords}},[t._v("搜索")])])]),a("rec-search",{staticClass:"hot-search",on:{setKey:t.changeKey}}),this.resultShow?a("div",{staticClass:"result"},[a("search-result",{attrs:{keyWords:t.keyWords,id:t.id,searchResult:t.searchResult,loading:t.loading},on:{changeId:t.changeID}})],1):t._e()],1)},n=[],i=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),r=s("edb0"),c=s("2f62"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommand-search"},[s("div",{staticClass:"title"},[t._v("热门搜索")]),s("div",{staticClass:"hots"},t._l(this.hotSearch,function(e,a){return s("span",{key:a,on:{click:function(s){return t.changeKeywords(e.first)}}},[t._v("\n\t\t\t"+t._s(e.first)+"\n\t\t")])}),0)])},l=[];function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(s,!0).forEach(function(e){Object(i["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var p={name:"RecSearch",computed:d({},Object(c["b"])(["hotSearch"])),methods:{changeKeywords:function(t){this.$emit("setKey",t)}},mounted:function(){this.$store.dispatch("getHotRearch")}},f=p,h=(s("8f0a"),s("2877")),v=Object(h["a"])(f,o,l,!1,null,"d13ec7be",null),g=v.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"base-list"},[s("tab-s",{staticClass:"tabs",attrs:{typeId:this.id},on:{set:t.setID}},[s("tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"this.loading"}],attrs:{name:"1",label:"单曲"}},t._l(t.searchResult.songs,function(t,e){return s("div",{key:t.id,staticClass:"song"},[s("song",{attrs:{songDetial:t,songRtUrl:t.rtUrls,index:e,artists:t.artists,album:t.album}})],1)}),0),s("tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"this.loading"}],attrs:{name:"100",label:"歌手"}},t._l(t.searchResult.artists,function(e,a){return s("router-link",{key:a,staticClass:"artist",attrs:{to:"/singer/"+e.id,tag:"div"}},[s("div",{staticClass:"artist-body"},[s("img",{staticClass:"cover-img",attrs:{src:t._f("formatPic")(e.img1v1Url),alt:"歌单封面"}}),s("span",{staticClass:"artist-name"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")])])])}),1),s("tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"this.loading"}],attrs:{name:"1000",label:"歌单"}},t._l(t.searchResult.playlists,function(e,a){return s("router-link",{key:a,staticClass:"playlist",attrs:{to:"/list/"+e.id,tag:"div"}},[s("div",{staticClass:"playlist-body"},[s("div",[s("img",{staticClass:"cover-img",attrs:{src:t._f("formatPic")(e.coverImgUrl),alt:"歌单封面"}})]),s("div",{staticClass:"playlist-title"},[s("span",{staticClass:"playlist-name"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t")]),e.creator?s("span",{staticClass:"playlist-ar"},[s("span",[t._v(t._s(e.trackCount)+"首")]),s("span",{staticClass:"ar"},[t._v("\n\t\t\t\t\t\t\t\tBy "+t._s(e.creator.nickname)+"\n\t\t\t\t\t\t\t")])]):t._e()])])])}),1)],1)],1)},b=[],m=(s("c5f6"),s("a723"),s("d213")),k=s("0cfd"),w=s("b482");function O(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function _(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?O(s,!0).forEach(function(e){Object(i["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):O(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var C={name:"List",props:{keyWords:{type:String,default:""},id:{type:[Number,String],default:1},searchResult:{type:[Array,Object]},loading:{type:Boolean,default:!0}},components:_({Song:m["a"]},k["a"]),methods:{setID:function(t){this.$emit("changeLoad",!0),this.$emit("changeId",t)}}},j=C,S=(s("33b7"),Object(h["a"])(j,y,b,!1,null,"f3e1d22e",null)),P=S.exports,D=s("f1ed");function x(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function W(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?x(s,!0).forEach(function(e){Object(i["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):x(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var $={name:"Search",data:function(){return{show:!1,keyWords:"",id:1,searchResult:[],loading:!0}},components:{Fade:r["a"],RecSearch:g,SearchResult:P},methods:{routerBack:function(){this.$router.go(-1),this.keyWords="",this.$store.commit("setResultShow",!1)},postKeywords:function(){this.keyWords&&(this.getSearchResultType(this.keyWords,this.id),this.$store.commit("setResultShow",!0),this.adviceDisappear())},changeKey:function(t){this.keyWords=t,this.postKeywords()},adviceAppear:function(){this.show=!0},adviceDisappear:function(){this.show=!1},adviceClick:function(t){this.keyWords=t,this.postKeywords()},getSearchResultType:function(t,e){var s=this;Object(w["b"])({keywords:t,type:e}).then(function(t){s.searchResult=t.result,s.loading=!1})},changeID:function(t){this.id=t,this.loading=!0,this.getSearchResultType(this.keyWords,this.id)},getAdvice:Object(D["e"])(function(t,e){t.$store.dispatch("getAdvice",e)},1e3)},computed:W({},Object(c["b"])(["searchAdvice","resultShow"])),created:function(){Object(D["a"])()},watch:{keyWords:function(t){t&&this.getAdvice(this,t)}}},R=$,I=(s("731c"),Object(h["a"])(R,a,n,!1,null,"19f190d7",null));e["default"]=I.exports},"33b7":function(t,e,s){"use strict";var a=s("0a27"),n=s.n(a);n.a},"3c21":function(t,e,s){},"5ce8":function(t,e,s){},"6cd8":function(t,e,s){},"731c":function(t,e,s){"use strict";var a=s("6cd8"),n=s.n(a);n.a},7329:function(t,e,s){"use strict";var a=s("b22b"),n=s.n(a);n.a},"8f0a":function(t,e,s){"use strict";var a=s("3c21"),n=s.n(a);n.a},"9d98":function(t,e,s){"use strict";var a=s("f6ad"),n=s.n(a);n.a},b22b:function(t,e,s){},c1e0:function(t,e,s){"use strict";var a=s("5ce8"),n=s.n(a);n.a},d213:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"singleSong",on:{click:function(e){return t.listenMusic(t.songDetial,t.songDetial.id)}}},[s("div",{staticClass:"index"},[t._v(t._s(t.index+1))]),s("div",{staticClass:"song-body"},[s("span",{staticClass:"song-title"},[t._v("\n\t\t\t"+t._s(t.songDetial.name)+"\n\t\t\t"),t.songRtUrl&&0!=t.songRtUrl.length?s("span",{staticClass:"rtUrl"},[t._v(t._s(t.songRtUrl))]):t._e()]),s("span",{staticClass:"author-and-cover"},[t._l(t.artists,function(e,a){return s("span",{key:a,staticClass:"ar"},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])}),s("span",{staticClass:"separator"},[t._v("-")]),s("span",{staticClass:"cover"},[t._v(t._s(t.album.name))])],2)]),s("div",{staticClass:"vipAndAlbum"},[1==t.songDetial.fee||16==t.songDetial.fee?s("span",{staticClass:"vip"},[t._v("VIP")]):t._e(),4==t.songDetial.fee?s("span",{staticClass:"vip"},[t._v("需购专辑")]):t._e()])])},n=[],i=(s("c5f6"),s("a723")),r={name:"SongList",props:{index:{type:Number},songDetial:{type:Object},songRtUrl:{type:Array},artists:{type:Array,default:[]},album:{type:Object,default:{}}},methods:{listenMusic:function(t,e){var s=this;Object(i["e"])({ids:e}).then(function(e){0==e.privileges[0].st&&1!=e.privileges[0].fee&&4!=e.privileges[0].fee&&16!=e.privileges[0].fee?s.$store.dispatch("playSingleMusic",t):0!=e.privileges[0].st||1!=e.privileges[0].fee&&16!=e.privileges[0].fee||1!=e.privileges[0].payed?0!=e.privileges[0].st||1!=e.privileges[0].fee&&16!=e.privileges[0].fee||0!=e.privileges[0].payed?4==e.privileges[0].fee?alert("需要购买专辑"):alert("没有版权"):alert("需要Vip"):s.$store.dispatch("playSingleMusic",t)})}}},c=r,o=(s("7329"),s("2877")),l=Object(o["a"])(c,a,n,!1,null,"43cf6cd6",null);e["a"]=l.exports},f6ad:function(t,e,s){}}]);