(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74438b96"],{"0bef":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comments"},[s("div",{staticClass:"title"},[s("img",{staticClass:"back",attrs:{src:n("ed13"),alt:"返回图标"},on:{click:t.routerBack}}),s("div",{staticClass:"title-name"},[t._v("评论")])]),s("div",{staticClass:"song-name"},[t._v("\n\t\t\t"+t._s(this.currentSong.name)+"\n\t\t")]),s("el-tabs",{staticClass:"pages",attrs:{stretch:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{staticClass:"page",attrs:{label:"热门评论",name:"first"}},[s("div",t._l(this.hotComment,function(e){return s("div",{key:e.id,staticClass:"comment"},[s("img",{staticClass:"commenter-head",attrs:{src:e.user.avatarUrl,alt:"评论者头像"}}),s("div",{staticClass:"comment-infos"},[s("div",{staticClass:"commenter-info"},[s("div",{staticClass:"commenter-name"},[t._v(t._s(e.user.nickname))]),s("div",{staticClass:"commenter-date"},[t._v(t._s(t.formatTime(e.time)))])]),s("div",{staticClass:"comment-content",domProps:{innerHTML:t._s(e.content)}}),0!=e.beReplied.length?s("div",{staticClass:"comment-beReplied"},[s("div",[t._v("回复：")]),s("span",[t._v(t._s(e.beReplied[0].content))])]):t._e()]),s("div",{staticClass:"comment-likeCount"},[t._v("♥"+t._s(e.likedCount))])])}),0)]),s("el-tab-pane",{staticClass:"page",attrs:{label:"最新评论",name:"second"}},[s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}]},t._l(this.newComment,function(e){return s("div",{key:e.id,staticClass:"comment"},[s("img",{staticClass:"commenter-head",attrs:{src:e.user.avatarUrl,alt:"评论者头像"}}),s("div",{staticClass:"comment-infos"},[s("div",{staticClass:"commenter-info"},[s("div",{staticClass:"commenter-name"},[t._v(t._s(e.user.nickname))]),s("div",{staticClass:"commenter-date"},[t._v(t._s(t.formatTime(e.time)))])]),s("div",{staticClass:"comment-content",domProps:{innerHTML:t._s(e.content)}}),0!=e.beReplied.length?s("div",{staticClass:"comment-beReplied"},[s("div",[t._v("回复：")]),s("span",[t._v(t._s(e.beReplied[0].content))])]):t._e()]),s("div",{staticClass:"comment-likeCount"},[t._v("❤"+t._s(e.likedCount))])])}),0)])],1)],1)},a=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),c=n("2f62"),o=n("a723");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l={name:"Comments",data:function(){return{activeName:"first",hotComment:{},newComment:{},total:0,page:1}},computed:m({},Object(c["b"])(["currentSong"])),methods:{routerBack:function(){this.$router.go(-1),this.$store.commit("setFullScreen",!0)},formatTime:function(t){var e=new Date(t);return"".concat(e.getFullYear(),"年").concat(e.getMonth()+1,"月").concat(e.getDate(),"日")},load:function(){var t=this;"second"==this.activeName&&this.total>0&&(console.log("load"),Object(o["a"])({id:this.currentSong.id,offset:20*this.page}).then(function(e){t.total--,t.page++,t.newComment=t.newComment.concat(e.comments)}))}},created:function(){var t=this;Object(o["a"])({id:this.currentSong.id}).then(function(e){console.log(e),t.hotComment=e.hotComments,t.newComment=e.comments,t.total=e.total/20-1})}},d=l,v=(n("942f"),n("2877")),u=Object(v["a"])(d,s,a,!1,null,"08b465ee",null);e["default"]=u.exports},"5c34":function(t,e,n){},"942f":function(t,e,n){"use strict";var s=n("5c34"),a=n.n(s);a.a}}]);