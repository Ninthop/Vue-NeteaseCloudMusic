(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06338daf"],{"0bef":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comments"},[a("div",{staticClass:"title"},[a("img",{staticClass:"back",attrs:{src:n("ed13"),alt:"返回图标"},on:{click:t.routerBack}}),a("div",{staticClass:"title-name"},[t._v("评论")])]),a("div",{staticClass:"song-name"},[t._v("\n\t\t\t"+t._s(this.currentSong.name)+"\n\t\t")]),a("el-tabs",{staticClass:"pages",attrs:{stretch:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{staticClass:"page",attrs:{label:"热门评论",name:"first"}},[a("div",t._l(this.hotComment,function(e){return a("div",{key:e.id,staticClass:"comment"},[a("img",{staticClass:"commenter-head",attrs:{src:e.user.avatarUrl,alt:"评论者头像"}}),a("div",{staticClass:"comment-infos"},[a("div",{staticClass:"commenter-info"},[a("div",{staticClass:"commenter-name"},[t._v(t._s(e.user.nickname))]),a("div",{staticClass:"commenter-date"},[t._v(t._s(t.formatTime(e.time)))])]),a("div",{staticClass:"comment-content",domProps:{innerHTML:t._s(e.content)}}),0!=e.beReplied.length?a("div",{staticClass:"comment-beReplied"},[a("div",[t._v("回复：")]),a("span",[t._v(t._s(e.beReplied[0].content))])]):t._e()]),a("div",{staticClass:"comment-likeCount"},[t._v("♥"+t._s(e.likedCount))])])}),0)]),a("el-tab-pane",{staticClass:"page",attrs:{label:"最新评论",name:"second"}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}]},t._l(this.newComment,function(e){return a("div",{key:e.id,staticClass:"comment"},[a("img",{staticClass:"commenter-head",attrs:{src:e.user.avatarUrl,alt:"评论者头像"}}),a("div",{staticClass:"comment-infos"},[a("div",{staticClass:"commenter-info"},[a("div",{staticClass:"commenter-name"},[t._v(t._s(e.user.nickname))]),a("div",{staticClass:"commenter-date"},[t._v(t._s(t.formatTime(e.time)))])]),a("div",{staticClass:"comment-content",domProps:{innerHTML:t._s(e.content)}}),0!=e.beReplied.length?a("div",{staticClass:"comment-beReplied"},[a("div",[t._v("回复：")]),a("span",[t._v(t._s(e.beReplied[0].content))])]):t._e()]),a("div",{staticClass:"comment-likeCount"},[t._v("❤ "+t._s(e.likedCount))])])}),0)])],1)],1)},s=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),c=n("2f62"),o=n("a723");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l={name:"Comments",data:function(){return{activeName:"first",hotComment:{},newComment:{},total:0,page:1}},computed:m({},Object(c["b"])(["currentSong"])),methods:{routerBack:function(){this.$router.go(-1),this.$store.commit("setFullScreen",!0)},formatTime:function(t){var e=new Date(t);return"".concat(e.getFullYear(),"年").concat(e.getMonth()+1,"月").concat(e.getDate(),"日")},load:function(){var t=this;"second"==this.activeName&&this.total>0&&(console.log("load"),Object(o["a"])({id:this.currentSong.id,offset:20*this.page}).then(function(e){t.total--,t.page++,t.newComment=t.newComment.concat(e.comments)}))}},created:function(){var t=this;Object(o["a"])({id:this.currentSong.id}).then(function(e){console.log(e),t.hotComment=e.hotComments,t.newComment=e.comments,t.total=e.total/20-1})}},d=l,v=(n("fa60"),n("2877")),u=Object(v["a"])(d,a,s,!1,null,"673413da",null);e["default"]=u.exports},"6dff":function(t,e,n){},fa60:function(t,e,n){"use strict";var a=n("6dff"),s=n.n(a);s.a}}]);